(this["webpackJsonpimage-editor"]=this["webpackJsonpimage-editor"]||[]).push([[0],{18:function(e,t,n){},24:function(e,t){},25:function(e,t){},26:function(e,t){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var r,i=n(1),c=n.n(i),a=n(10),o=n.n(a),d=(n(18),n(4)),l=n(8),s=n(2),u=n(3),f=n(0),b=u.a.button(r||(r=Object(d.a)(["\n  background: transparent;\n  border-radius: 3px;\n  border: 2px solid palevioletred;\n  color: palevioletred;\n  margin: 0.5em 1em;\n  padding: 0.25em 1em;\n  cursor: pointer;\n"])));var j,h=function(e){return Object(f.jsx)(b,{onClick:e.clicked,children:e.children})},p=u.a.div(j||(j=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n"])));var g=function(e){return Object(f.jsx)(p,{children:e.children})};function v(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var x,O=function(e){var t=e.canvas;return Object(f.jsxs)(g,{children:[Object(f.jsx)(h,{clicked:function(){return function(e){var t=new s.fabric.Rect({height:280,width:200,stroke:"palevioletred",strokeWidth:3,fill:"rgba(0,0,0,0)"});e.add(t).setActiveObject(t),e.renderAll()}(t)},children:"Rectangle"}),Object(f.jsx)(h,{clicked:function(){return function(e){var t=new s.fabric.Textbox("Enter text here...",{left:50,top:50,width:150,fontSize:20});e.add(t).setActiveObject(t),e.renderAll()}(t)},children:"Text"}),Object(f.jsx)(h,{clicked:function(){return function(e){var t=new s.fabric.Triangle({width:10,height:15,fill:"red",left:235,top:65,angle:90}),n=new s.fabric.Line([50,100,200,100],{left:75,top:70,stroke:"red"}),r=new s.fabric.Group([n,t]);e.add(r).setActiveObject(r),e.renderAll()}(t)},children:"Arrow"}),Object(f.jsx)(h,{clicked:function(){return function(e){for(var t=0;t<150;t++){var n=new s.fabric.Triangle({width:10,height:15,fill:"red",left:235,top:65,angle:90}),r=new s.fabric.Line([50,100,200,100],{left:75,top:70,stroke:"red"}),i=new s.fabric.Group([r,n]);i.setCoords(v(1,e.getWidth(),v(1,e.getHeight()))),e.add(i);var c=new s.fabric.Textbox("Text text",{left:v(1,e.getWidth()),top:v(1,e.getHeight()),width:150,fontSize:20});e.add(c);var a=new s.fabric.Rect({height:v(1,e.getWidth()),width:v(1,e.getHeight()),stroke:"palevioletred",strokeWidth:3,fill:"rgba(0,0,0,0)",left:v(1,e.getWidth()),top:v(1,e.getHeight())});e.add(a)}e.renderAll()}(t)},children:"Populate canvas (400 elements)"})]})},m=function(e){var t=u.a.label(x||(x=Object(d.a)(["\n        background: transparent;\n        border-radius: 3px;\n        border: 2px solid palevioletred;\n        color: palevioletred;\n        margin: 0.5em 1em;\n        padding: 0.25em 1em;\n        cursor: pointer;\n        font-size: 11px;\n    "])));return Object(f.jsxs)(t,{htmlFor:"image-upload",children:["Upload an image",Object(f.jsx)("input",{style:{display:"none"},type:"file",id:"image-upload",onInput:function(t){return function(t){var n=new FileReader,r=t.target.files[0];n.onloadend=function(){return e.onUpload(n.result)},n.readAsDataURL(r)}(t)}})]})},w=function(e){var t=e.data;return Object(f.jsx)("div",{children:Object(f.jsx)("pre",{children:JSON.stringify(t,null,2)})})};var k,A=function(){var e=Object(i.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)(""),a=Object(l.a)(c,2),o=a[0],d=a[1];Object(i.useEffect)((function(){console.log("rendered CanvasContainer")}),[n]);var u=function(e,t){var n=function(e){var t=new s.fabric.Canvas("canvas",{height:800,width:1200,borderColor:"red"});return e&&function(e,t){var n=t||"http://fabricjs.com/lib/pug.jpg";e.setBackgroundImage(n,e.renderAll.bind(e),{})}(t,e),t}(t);e&&n.loadFromJSON(o),r(n),d("")};return Object(f.jsxs)("div",{children:[Object(f.jsx)(g,{children:n?Object(f.jsx)(h,{clicked:function(){return e=n,console.log(e.toJSON()),d(e.toJSON()),e.clear(),e.dispose(),void r("");var e},children:"Export"}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(m,{onUpload:function(e){return u(null,e)}}),o&&Object(f.jsx)(h,{clicked:function(){return u(o)},children:"New canvas from previous canvas"})]})}),Object(f.jsx)("canvas",{id:"canvas"}),n&&Object(f.jsx)(O,{canvas:n}),o&&Object(f.jsx)(w,{data:o.objects})]})},S=(n(30),u.a.section(k||(k=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n"]))));var y=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(S,{children:Object(f.jsx)(A,{})})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),c(e),a(e)}))};o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(y,{})}),document.getElementById("root")),C()}},[[31,1,2]]]);
//# sourceMappingURL=main.e60e8e53.chunk.js.map